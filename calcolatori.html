<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calcolatori di Calorie per Sport</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link href="assets/bootstrap-icons-1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">    <style>
        body {
            background-color: #F5F5F5;
            color: #0B3954;
        }
        .calculator {
            display: none;
        }
        .calculator.active {
            display: block;
        }
        .toggle-buttons button {
            background-color: #2F97C1;
            color: #FFFFFF;
        }
        .toggle-buttons button.active {
            background-color: #0B3954;
        }
        .result {
            color: #FBAF00;
            font-weight: bold;
        }
    </style>
</head>
<body>

<div class="container mt-5">
    <div class="toggle-buttons d-flex justify-content-center mb-4">
        <button class="btn btn-primary mx-2" onclick="showCalculator('running')">Corsa</button>
        <button class="btn btn-primary mx-2" onclick="showCalculator('biking')">Bici</button>
        <button class="btn btn-primary mx-2" onclick="showCalculator('swimming')">Nuoto</button>
    </div>

    <div id="running" class="calculator active">
        <h2>Calcolatore di Calorie per la Corsa</h2>
        <form id="running-calculator" class="form-group">
            <label for="running-weight">Peso (kg):</label>
            <input type="number" id="running-weight" name="running-weight" class="form-control mb-3">
            <label for="running-distance">Distanza (km):</label>
            <input type="number" id="running-distance" name="running-distance" class="form-control mb-3">
            <label for="running-speed">Velocità (km/h):</label>
            <input type="number" id="running-speed" name="running-speed" class="form-control mb-3">
            <label for="running-grade">Pendenza (%):</label>
            <input type="number" id="running-grade" name="running-grade" class="form-control mb-3">
            <button type="button" class="btn btn-primary" onclick="calculateRunningCalories()">Calcola</button>
        </form>
        <p class="mt-3">Calorie Bruciate: <span id="running-result" class="result">0</span></p>
    </div>

    <div id="biking" class="calculator">
        <h2>Calcolatore di Calorie per la Bici</h2>
        <form id="biking-calculator" class="form-group">
            <label for="biking-weight">Peso (kg):</label>
            <input type="number" id="biking-weight" name="biking-weight" class="form-control mb-3">
            <label for="biking-distance">Distanza (km):</label>
            <input type="number" id="biking-distance" name="biking-distance" class="form-control mb-3">
            <label for="biking-speed">Velocità (km/h):</label>
            <input type="number" id="biking-speed" name="biking-speed" class="form-control mb-3">
            <button type="button" class="btn btn-primary" onclick="calculateBikingCalories()">Calcola</button>
        </form>
        <p class="mt-3">Calorie Bruciate: <span id="biking-result" class="result">0</span></p>
    </div>

    <div id="swimming" class="calculator">
        <h2>Calcolatore di Calorie per il Nuoto</h2>
        <form id="swimming-calculator" class="form-group">
            <label for="swimming-weight">Peso (kg):</label>
            <input type="number" id="swimming-weight" name="swimming-weight" class="form-control mb-3">
            <label for="swimming-distance">Distanza (m):</label>
            <input type="number" id="swimming-distance" name="swimming-distance" class="form-control mb-3">
            <label for="swimming-style">Stile di Nuoto:</label>
            <select id="swimming-style" name="swimming-style" class="form-control mb-3">
                <option value="freestyle">Stile Libero</option>
                <option value="breaststroke">Rana</option>
                <option value="butterfly">Farfalla</option>
            </select>
            <button type="button" class="btn btn-primary" onclick="calculateSwimmingCalories()">Calcola</button>
        </form>
        <p class="mt-3">Calorie Bruciate: <span id="swimming-result" class="result">0</span></p>
    </div>
</div>

<script src="js/jquery-3.7.1.min.js"></script>
<script src="js/bootstrap.bundle.min.js"></script>
<script>
    function showCalculator(calculator) {
        const calculators = document.querySelectorAll('.calculator');
        calculators.forEach(function (calc) {
            calc.classList.remove('active');
        });
        document.getElementById(calculator).classList.add('active');

        const buttons = document.querySelectorAll('.toggle-buttons button');
        buttons.forEach(function (button) {
            button.classList.remove('active');
        });
        document.querySelector(`.toggle-buttons button[onclick="showCalculator('${calculator}')"]`).classList.add('active');
    }

    function calculateRunningCalories() {
        const weight = parseFloat(document.getElementById('running-weight').value);
        const distance = parseFloat(document.getElementById('running-distance').value);
        const speed = parseFloat(document.getElementById('running-speed').value);
        const grade = parseFloat(document.getElementById('running-grade').value);

        if (isNaN(weight) || isNaN(distance) || isNaN(speed) || isNaN(grade)) {
            document.getElementById('running-result').innerText = "Inserisci valori validi.";
            return;
        }

        // Valori MET per diverse velocità e pendenze
        let met = 0;
        if (speed <= 8) {
            met = 8.3;
        } else if (speed <= 9.7) {
            met = 9.8;
        } else if (speed <= 10.8) {
            met = 10.5;
        } else if (speed <= 12.1) {
            met = 11;
        } else if (speed <= 14.5) {
            met = 11.5;
        } else if (speed <= 16.1) {
            met = 12.8;
        } else if (speed <= 17.5) {
            met = 13.5;
        } else if (speed <= 20.1) {
            met = 14.5;
        }

        // Adjust MET for grade
        if (grade > 0) {
            met *= (1 + grade / 100);
        } else if (grade < 0) {
            met *= (1 + grade / 200);
        }

        const time = distance / speed; // tempo in ore
        const calories = met * weight * time;
        document.getElementById('running-result').innerText = calories.toFixed(2);
    }

    function calculateBikingCalories() {
        const weight = parseFloat(document.getElementById('biking-weight').value);
        const distance = parseFloat(document.getElementById('biking-distance').value);
        const speed = parseFloat(document.getElementById('biking-speed').value);

        if (isNaN(weight) || isNaN(distance) || isNaN(speed)) {
            document.getElementById('biking-result').innerText = "Inserisci valori validi.";
            return;
        }

        // Valori MET per diverse velocità
        const metValues = {
            10: 4.0, // 10 km/h
            12: 6.8, // 12 km/h
            16: 8.0, // 16 km/h
            19: 10.0, // 19 km/h
            22: 12.0, // 22 km/h
            25: 15.8, // 25 km/h
            30: 19.0  // 30 km/h
        };

        let met = 4; // Valore MET predefinito
        for (let s in metValues) {
            if (speed <= s) {
                met = metValues[s];
                break;
            }
        }

        const time = distance / speed; // tempo in ore
        const calories = met * weight * time;
        document.getElementById('biking-result').innerText = calories.toFixed(2);
    }

    function calculateSwimmingCalories() {
        const weight = parseFloat(document.getElementById('swimming-weight').value);
        const distance = parseFloat(document.getElementById('swimming-distance').value);
        const style = document.getElementById('swimming-style').value;

        if (isNaN(weight) || isNaN(distance)) {
            document.getElementById('swimming-result').innerText = "Inserisci valori validi.";
            return;
        }

        // Valori MET per diversi stili di nuoto
        const metValues = {
            freestyle: 8.3,
            breaststroke: 10.3,
            butterfly: 13.8
        };

        const met = metValues[style];
        const time = distance / 1000; // assumendo una velocità media di nuoto di 1 km/h
        const calories = met * weight * time;
        document.getElementById('swimming-result').innerText = calories.toFixed(2);
    }
</script>

</body>
</html>
